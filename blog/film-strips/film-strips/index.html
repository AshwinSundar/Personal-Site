<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 4.12.1"/><style data-href="/styles.232bd451dfe940cbd8cb.css" data-identity="gatsby-global-css">@font-face{font-family:Bebas Neue;src:url(/static/BebasNeue-Regular-12e3683f9192436a7be8e24657809a1f.ttf)}@font-face{font-family:Zen Kurenaido;src:url(/static/ZenKurenaido-Regular-61210c17444b93cbf5024f337f5c9e85.ttf)}@font-face{font-family:Radio Canada Light;src:url(/static/RadioCanada-Light-b62fc0a54e8dbd4ef19adb46d1ef4d1e.ttf)}@font-face{font-family:Radio Canada Regular;src:url(/static/RadioCanada-Regular-d27e1bceccc9fe2a33dedd8a27170f39.ttf)}@font-face{font-family:Radio Canada Medium;src:url(/static/RadioCanada-Medium-5e4c7e2f1eb9825b27993a6c2e3d9ca4.ttf)}@font-face{font-family:Radio Canada Semi-Bold;src:url(/static/RadioCanada-SemiBold-a780beaeb4ce6a1c849d25cc5322419f.ttf)}@font-face{font-family:Radio Canada Bold;src:url(/static/RadioCanada-Bold-003039c700c6d5ff6a1f6a7572680dd1.ttf)}.layout-module--container--RoCXy{font-family:Radio Canada Regular}.layout-module--site-title--WxIkt{font-family:Bebas Neue;font-size:3rem;font-weight:700;margin:3rem 1vw}.layout-module--site-title--WxIkt>*{color:gray;text-decoration:none}.layout-module--heading--3ayl9{color:#404040}.layout-module--main--ay8oo{display:flex}.layout-module--main--ay8oo .layout-module--sidebar--em38h{display:flex;flex-direction:column;width:38%}.layout-module--main--ay8oo .layout-module--content--FwTjf{display:flex;flex-direction:column;width:62%}.sidebar-module--sidebar--XogUW{background-color:#e6e6e6;font-family:Zen Kurenaido,sans-serif;font-size:20px;line-height:24px;padding:25px 1vw}.bio-module--bio--va264 .bio-module--text--fkZqR{color:gray;padding:10px 0}.bio-module--strong--kCV3I{color:#000}.content-module--content--UHy8y{background-color:#f3f3f3;font-family:Radio Canada Regular;font-size:16px;line-height:20px;padding:0 1vw}.navbar-module--nav-links--BXv-J{display:flex;list-style:none;margin:1vw;padding-left:0}.navbar-module--nav-link-item--\+edZw{padding-right:2rem}.navbar-module--nav-link-item--\+edZw .navbar-module--nav-link-text--gFFqA{color:#c2901d;text-decoration:none}.blog-module--date--cLSN7{color:gray;font-style:italic}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link as="script" rel="preload" href="/webpack-runtime-bc07ee390335ea21a727.js"/><link as="script" rel="preload" href="/framework-6710801b7d89d7dbe869.js"/><link as="script" rel="preload" href="/app-12aa3c5a497da9f8dbd6.js"/><link as="script" rel="preload" href="/component---src-pages-blog-mdx-slug-tsx-d1cc39d189e850ccd0d3.js"/><link as="fetch" rel="preload" href="/page-data/blog/film-strips/film-strips/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2928772754.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="layout-module--container--RoCXy"><title class="layout-module--site-title--WxIkt">Film Strips<!-- --> | <!-- -->Ashwin Sundar</title><header class="layout-module--site-title--WxIkt"><a href="/">Ashwin Sundar</a></header><nav><ul class="navbar-module--nav-links--BXv-J"><li class="navbar-module--nav-link-item--+edZw"><a class="navbar-module--nav-link-text--gFFqA" href="/">Writing</a></li><li class="navbar-module--nav-link-item--+edZw">Music</li><li class="navbar-module--nav-link-item--+edZw">Photography</li><li class="navbar-module--nav-link-item--+edZw">Work</li></ul></nav><main class="layout-module--main--ay8oo"><div class="layout-module--sidebar--em38h"><div class="sidebar-module--sidebar--XogUW"><div class="bio-module--bio--va264"><div class="bio-module--text--fkZqR">My name is <span class="bio-module--strong--kCV3I">Ashwin</span> (pronounced<!-- --> <span class="bio-module--strong--kCV3I">Osh-Win</span>). Here are some fun facts about me:<ul><li>I was a barista and supervisor at Starbucks for 2 years during grad school</li><li>I speak Tamil marginally fluently</li><li>I was obsessed with Speech and Debate in high school</li><li>I love to write all sorts of things</li><li>I play and record music</li><li>I have a love for darkroom photography (and built my own darkroom)</li><li>I love gardening</li><li>I once drove a 1993 4Runner with 330,000 miles across the Southwestern US</li><li>I&#x27;m a vegetarian</li><li>I&#x27;m a software engineer because I love math, first and foremost</li><li>I&#x27;ve been to 30 US states, 8 countries (including India 10+ times), but never been south of the equator</li></ul>I am a <span class="bio-module--strong--kCV3I">Software Engineer III</span> at<!-- --> <span class="bio-module--strong--kCV3I">DEPTÂ®</span>. Previously, I was a software engineer at <span class="bio-module--strong--kCV3I">Medtronic</span>. I have a bachelor&#x27;s degree in neuroscience from UCLA, and a master&#x27;s degree in biomedical engineering from Arizona State University.<p>I live in Colorado.</p></div></div></div></div><div class="layout-module--content--FwTjf"><div class="content-module--content--UHy8y"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:0;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;0&#x27; width=&#x27;0&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear"></div><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" decoding="async" loading="lazy" alt=""/><noscript><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" decoding="async" loading="lazy" alt=""/></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div><p class="blog-module--date--cLSN7">April 2017</p><h1>The Color of Film</h1><p>They say a picture is worth a thousand words, so I took that literally and built average color pictures for each episode in the first season of Game of Thrones. Each vertical line represents one second of the show. Here&#x27;s what I got : <a href="https://imgur.com/a/naPeJ">https://imgur.com/a/naPeJ</a></p><p>Here&#x27;s some examples using a couple of popular movies: <a href="https://imgur.com/a/4g2lJ">https://imgur.com/a/4g2lJ</a></p><h2>Source code for converting videos to film strips</h2><p>FFMPEG is a convenient command line tool that can be used to extract frames from a video file.</p><p>This command <code>ffmpeg -i foo.avi -r 1 -s WxH -f image2 foo-%03d.jpeg</code> will extract one video frame per second from the video and will output them in files named <code>foo-001.jpeg</code>, <code>foo-002.jpeg</code>, etc. Images will be rescaled to fit the new WxH (width by height) values. You can safely keep these values pretty small e.g. 320x240 without losing much resolution in the final image. By keeping the pictures small, you vastly improve the performance of the program.</p><p>If you want to extract just a limited number of frames, you can use the above command in combination with the -vframes or -t option, or in combination with -ss to start extracting from a certain point in time.</p><h2>Steps</h2><ol><li><p>Download and install ffmpeg, a command line tool - <a href="http://ffmpeg.org/download.html">http://ffmpeg.org/download.html</a></p></li><li><p>Extract images from the video</p><p>a) Navigate to C:\Users\Ashwin\Documents\ffmpeg-20160610-git-0a9e781-win64-static (or wherever you unzipped ffmpeg to)</p><p>b) Open ff-prompt</p><p>c) Within FF Prompt, navigate to the video directory using <code>cd {directory name}</code></p><p>d) in FF Prompt, type the following <code>ffmpeg -i foo.avi -r 1 -s WxH -f image2 s{season number e.g. 01}e{episode number e.g. 01}-%03d.jpeg</code></p><p>Replace <code>foo.avi</code> with whatever video file you want to process. Doesn&#x27;t have to be <code>.avi</code>. Might want to rename video file so you can more easily type the file name in command prompt. Also replace WxH with the desired image resolution. Smaller images vastly improve performance. This will extract one video frame per second from the video and will output them in files named <code>{desired image title}-001.jpeg</code>, <code>{desired image title}-002.jpeg</code>, etc. Images will be rescaled to fit the new WxH values. This command could take 5+ minutes to run per hour of video, but once again keeping images small will allow the program to run much faster.</p></li><li><p>Move all the generated images into their own folder. Copy averageColorGrab.m into the same folder as the images.</p></li><li><p>open the MATLAB script <code>averageColorGrab.m</code> that you just copied over.</p><p>a) Modify the season and episode number - you may need to modify the image title to match the format you described above in <code>{desired image title}-xxx.jpg</code>. Change the videoLength to the duration of the video in seconds. Easiest way to do this is to see how many jpegs you generated in step 1c. Save the file with ctrl+S</p><p>b) Run the script by typing in the console <code>averageColorGrab</code></p><p>Script takes about 60 seconds to analyze 1 hour worth of 1080p video.</p><p>c) Next, we&#x27;ll print and save the film strips. In the console, type the following (replace videoLength with the actual video length in seconds):</p><pre><code>```
imshow(mat2gray(averageEpisodeColor));
set(gcf,&#x27;PaperUnits&#x27;,&#x27;inches&#x27;,&#x27;PaperPosition&#x27;,[0,0,videoLength,715])
set(gca,&#x27;position&#x27;,[0 0 1 1],&#x27;units&#x27;,&#x27;normalized&#x27;)
print -djpeg averagesXXeXXRGB -r1
```
</code></pre><p>d) type <code>csvwrite(&#x27;averagesXXeYYRGB&#x27;, averageEpisodeColor)</code> to save the final RGB matrix, in case you&#x27;d like to do a reprint of the RAW data at another time.</p></li></ol></div></div></main></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/film-strips/film-strips/";window.___webpackCompilationHash="f06d1f0696e146cb2e37";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-c8708dfa47b60eb3e462.js"],"app":["/app-12aa3c5a497da9f8dbd6.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-e1ccf424990858934a81.js"],"component---src-pages-about-tsx":["/component---src-pages-about-tsx-6684366873c993677675.js"],"component---src-pages-blog-index-tsx":["/component---src-pages-blog-index-tsx-48d08ad3ee63a36cc7e2.js"],"component---src-pages-blog-mdx-slug-tsx":["/component---src-pages-blog-mdx-slug-tsx-d1cc39d189e850ccd0d3.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-d86ca5cba1552f5bf96d.js"]};/*]]>*/</script><script src="/polyfill-c8708dfa47b60eb3e462.js" nomodule=""></script><script src="/component---src-pages-blog-mdx-slug-tsx-d1cc39d189e850ccd0d3.js" async=""></script><script src="/app-12aa3c5a497da9f8dbd6.js" async=""></script><script src="/framework-6710801b7d89d7dbe869.js" async=""></script><script src="/webpack-runtime-bc07ee390335ea21a727.js" async=""></script></body></html>