<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 4.12.1"/><style data-href="/styles.82e69b44b15d8cc1e904.css" data-identity="gatsby-global-css">@font-face{font-family:Bebas Neue;src:url(/static/BebasNeue-Regular-12e3683f9192436a7be8e24657809a1f.ttf)}@font-face{font-family:Zen Kurenaido;src:url(/static/ZenKurenaido-Regular-61210c17444b93cbf5024f337f5c9e85.ttf)}@font-face{font-family:Radio Canada Light;src:url(/static/RadioCanada-Light-b62fc0a54e8dbd4ef19adb46d1ef4d1e.ttf)}@font-face{font-family:Radio Canada Regular;src:url(/static/RadioCanada-Regular-d27e1bceccc9fe2a33dedd8a27170f39.ttf)}@font-face{font-family:Radio Canada Medium;src:url(/static/RadioCanada-Medium-5e4c7e2f1eb9825b27993a6c2e3d9ca4.ttf)}@font-face{font-family:Radio Canada Semi-Bold;src:url(/static/RadioCanada-SemiBold-a780beaeb4ce6a1c849d25cc5322419f.ttf)}@font-face{font-family:Radio Canada Bold;src:url(/static/RadioCanada-Bold-003039c700c6d5ff6a1f6a7572680dd1.ttf)}.layout-module--container--RoCXy{font-family:Radio Canada Regular}.layout-module--site-title--WxIkt{font-family:Bebas Neue;font-size:3rem;font-weight:700;margin:3rem 1vw}.layout-module--site-title--WxIkt>*{color:gray;text-decoration:none}.layout-module--heading--3ayl9{color:#404040}.layout-module--main--ay8oo{display:flex}.layout-module--main--ay8oo .layout-module--content--FwTjf{display:flex;flex-direction:column;width:100%}.content-module--content--UHy8y{background-color:#f3f3f3;font-family:Radio Canada Regular;font-size:16px;line-height:20px;padding:0 1vw}.navbar-module--nav-links--BXv-J{display:flex;list-style:none;margin:1vw;padding-left:0}.navbar-module--nav-link-item--\+edZw{padding-right:2rem}.navbar-module--nav-link-item--\+edZw .navbar-module--nav-link-text--gFFqA{color:#c2901d;text-decoration:none}.bio-module--bio--va264 .bio-module--text--fkZqR{color:gray;padding:10px 0}.bio-module--strong--kCV3I{color:#000}.blog-module--date--cLSN7{color:gray;font-style:italic}.musicPlayer-module--music-player-container--C4R\+5{display:flex;flex-direction:column}.musicPlayer-module--music-player-container--C4R\+5 .musicPlayer-module--content-container--PYalc{display:flex;flex-direction:row;justify-content:space-between}.musicPlayer-module--music-player-container--C4R\+5 .musicPlayer-module--content-container--PYalc .musicPlayer-module--left-container--1Qfqa .musicPlayer-module--play--qWwYo{cursor:pointer}.mainDisplay-module--main-display--iNTDA{display:flex;flex-direction:column}.mainDisplay-module--main-display--iNTDA .mainDisplay-module--bottom--Fq91s{display:flex;flex-direction:row}.thinHeader-module--thin-header--zRgMp{background-color:#404040;width:100%}.thinHeader-module--thin-header--zRgMp .thinHeader-module--text--aAUJp{-moz-text-fill-color:transparent;-webkit-text-fill-color:transparent;background:linear-gradient(red,#ff0);background-clip:text;-webkit-background-clip:text;-moz-background-clip:text;text-align:center}.playlist-module--playlist--ft6Td table{background-color:#000;color:#fff;cursor:pointer;user-select:none;-webkit-user-select:none;-ms-user-select:none;-moz-user-select:none}.playlist-module--playlist--ft6Td th{text-align:left}.playlist-module--playlist--ft6Td tr{color:#3f3}.playlist-module--playlist--ft6Td tr:hover{color:#fff}.playlist-module--playlist--ft6Td tr:nth-child(2n){background-color:#191919}</style><style>.gatsby-image-wrapper{position:relative;overflow:hidden}.gatsby-image-wrapper picture.object-fit-polyfill{position:static!important}.gatsby-image-wrapper img{bottom:0;height:100%;left:0;margin:0;max-width:none;padding:0;position:absolute;right:0;top:0;width:100%;object-fit:cover}.gatsby-image-wrapper [data-main-image]{opacity:0;transform:translateZ(0);transition:opacity .25s linear;will-change:opacity}.gatsby-image-wrapper-constrained{display:inline-block;vertical-align:top}</style><noscript><style>.gatsby-image-wrapper noscript [data-main-image]{opacity:1!important}.gatsby-image-wrapper [data-placeholder-image]{opacity:0!important}</style></noscript><script type="module">const e="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;e&&document.body.addEventListener("load",(function(e){if(void 0===e.target.dataset.mainImage)return;if(void 0===e.target.dataset.gatsbyImageSsr)return;const t=e.target;let a=null,n=t;for(;null===a&&n;)void 0!==n.parentNode.dataset.gatsbyImageWrapper&&(a=n.parentNode),n=n.parentNode;const o=a.querySelector("[data-placeholder-image]"),r=new Image;r.src=t.currentSrc,r.decode().catch((()=>{})).then((()=>{t.style.opacity=1,o&&(o.style.opacity=0,o.style.transition="opacity 500ms linear")}))}),!0);</script><link as="script" rel="preload" href="/webpack-runtime-5db18a052876bdf03bb0.js"/><link as="script" rel="preload" href="/framework-6710801b7d89d7dbe869.js"/><link as="script" rel="preload" href="/app-c0d591f35b1cc4cc245a.js"/><link as="script" rel="preload" href="/component---src-pages-blog-mdx-slug-tsx-d2a76146f2b99d8c05b4.js"/><link as="fetch" rel="preload" href="/page-data/blog/car-temperature/car-temperature/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/2928772754.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><div class="layout-module--container--RoCXy"><title class="layout-module--site-title--WxIkt">Car Temperatures in Phoenix<!-- --> | <!-- -->Ashwin Sundar</title><header class="layout-module--site-title--WxIkt"><a href="/">Ashwin Sundar</a></header><nav><ul class="navbar-module--nav-links--BXv-J"><li class="navbar-module--nav-link-item--+edZw"><a class="navbar-module--nav-link-text--gFFqA" href="/">Writing</a></li><li class="navbar-module--nav-link-item--+edZw"><a class="navbar-module--nav-link-text--gFFqA" href="/music">Music</a></li><li class="navbar-module--nav-link-item--+edZw">Photography</li><li class="navbar-module--nav-link-item--+edZw">Work</li><li class="navbar-module--nav-link-item--+edZw">About Me</li><li class="navbar-module--nav-link-item--+edZw"><a class="navbar-module--nav-link-text--gFFqA" href="/future_projects">Future Projects</a></li></ul></nav><main class="layout-module--main--ay8oo"><div class="layout-module--content--FwTjf"><div class="content-module--content--UHy8y"><div data-gatsby-image-wrapper="" class="gatsby-image-wrapper gatsby-image-wrapper-constrained"><div style="max-width:0;display:block"><img alt="" role="presentation" aria-hidden="true" src="data:image/svg+xml;charset=utf-8,%3Csvg height=&#x27;0&#x27; width=&#x27;0&#x27; xmlns=&#x27;http://www.w3.org/2000/svg&#x27; version=&#x27;1.1&#x27;%3E%3C/svg%3E" style="max-width:100%;display:block;position:static"/></div><div aria-hidden="true" data-placeholder-image="" style="opacity:1;transition:opacity 500ms linear"></div><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" decoding="async" loading="lazy" alt=""/><noscript><img data-gatsby-image-ssr="" data-main-image="" style="opacity:0" decoding="async" loading="lazy" alt=""/></noscript><script type="module">const t="undefined"!=typeof HTMLImageElement&&"loading"in HTMLImageElement.prototype;if(t){const t=document.querySelectorAll("img[data-main-image]");for(let e of t){e.dataset.src&&(e.setAttribute("src",e.dataset.src),e.removeAttribute("data-src")),e.dataset.srcset&&(e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset"));const t=e.parentNode.querySelectorAll("source[data-srcset]");for(let e of t)e.setAttribute("srcset",e.dataset.srcset),e.removeAttribute("data-srcset");e.complete&&(e.style.opacity=1)}}</script></div><p class="blog-module--date--cLSN7">March 2017</p><p>Using a wireless microcontroller, I monitored the temperature on my car&#x27;s dashboard and in the passenger footwell for a whole day during a particular hot spell in June in Phoenix. Even though I&#x27;m a Phoenix native, I was surprised by just how hot the inside of my car gets. The hardware components used were:</p><ul><li><a href="https://docs.particle.io/photon/">Particle Photon</a></li><li>2 <a href="https://www.digikey.com/en/products/detail/amphenol-advanced-sensors/MA100BF103A/272974">Amphenol MA100BF103A</a> NTC thermistors</li><li>3 C batteries (the heat really saps the batteries)</li></ul><p>The programs I used for recording and processing data were:</p><ul><li>Particle command line interface</li><li>MATLAB</li><li>Excel</li></ul><img src="https://i.imgur.com/Rh4JUrN.jpeg" width="100%"/><img src="https://i.imgur.com/MLOYlpf.jpeg" width="50%;"/><p>The sun rose at 5:18AM, when the outside temperature was 80.6F.</p><img src="https://i.imgur.com/pvBhuP8.jpeg" width="37%"/><p>My car was parked in full shade of the neighbor&#x27;s house to the east until 9:14AM. At that time, the dashboard temperature rapidly spikes, climbing at a rate of about 1F per minute. At 12:47PM, the dashboard reaches its peak of 212F - the boiling point of water! Meanwhile, the ambient (footwell) temperature is a tolerable 126.1F, and the outside temperature is 107.6F <!-- -->[joke about dry heat]<!-- -->.</p><img src="https://i.imgur.com/IswymtP.jpeg" width="50%"/><p>Around 1:45PM, the car moves into some tree shade, and the dashboard quickly cools off again. Meanwhile, the ambient temperature in the car continues to climb, peaking at 2:43PM at 134.8F. The outside temperature is 111.2F. From here, temperatures cool somewhat for the rest of the day.</p><p>The C++ code used to control the Particle Photon is as follows:</p><hr/><deckgo-highlight-code terminal="none">
          <code slot="code">#include &lt;math.h&gt;
#include &lt;Particle.h&gt;

double thermistor1Analog; // contains raw analog data from thermistor 1 circuit VOut
double thermistor2Analog;
double thermistor1Resistance; // converts analog reading to resistance
double thermistor2Resistance;
double temperature1; // converts thermistor resistance to temperature, according to Amphenol datasheet
double temperature2;
String temperatures = &quot;&quot;; // store temperatures in a buffer, send the whole thing once buffer fills to conserve power
Timer tempTimer(60000, checkTemp); // Checks temperature once every minute

void setup()
{
    tempTimer.start(); // starts the timer
}

void loop()
{

}


void checkTemp()
{
    thermistor1Analog = analogRead(A5); // short thermistor
    thermistor2Analog = analogRead(A4); // long thermistor

    // convert resistance to ohms using voltage divider equation, where R1 = 10k ohms
    // shielded equation from dividing by zero by putting it in an if statement
    if (thermistor1Analog &lt; 4095)
    {
        thermistor1Resistance = (9820*thermistor1Analog/4095)/(1-thermistor1Analog/4095); // 9820 is multimeter measurement of resistor
    }

    else if (thermistor1Analog &gt;= 4095) // if the analog reads 4095, then there is a short or the thermistor has failed.
    {
        thermistor1Resistance = 0;
    }

    if (thermistor2Analog &lt; 4095)
    {
        thermistor2Resistance = (9910*thermistor2Analog/4095)/(1-thermistor2Analog/4095); // 9910 is multimeter measurement of resistor
    }

    else if (thermistor2Analog &gt;= 4095) // if the analog reads 4095, then there is a short or the thermistor has failed.
    {
        thermistor2Resistance = 0;
    }

    // calculated temperature by plotting a line of best fit using linear algebra and MATLAB. Error was found to be 3.7998*10^-4 Kelvins using Igor Pro. Compressed some of the math operations to reduce floating point error.
    temperature1 = pow((.0011106 + 0.00023724*log(thermistor1Resistance) + 0.000000074738*pow(log(thermistor1Resistance), 3)), -1) - 273.15;
    temperature2 = pow((.0011106 + 0.00023724*log(thermistor2Resistance) + 0.000000074738*pow(log(thermistor2Resistance), 3)), -1) - 273.15;
    // rounds the temperature to 2 decimals, truncates last 6 elements (trailing zeroes))
    // Particle.publish only accepts chars or strings
    temperatures += &quot;s, &quot;;
    temperatures += String(temperature1);
    temperatures += &quot;, l, &quot;;
    temperatures += String(temperature2);
    temperatures += &quot;, &quot;;
}
</code>
        </deckgo-highlight-code></div></div></main></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/blog/car-temperature/car-temperature/";window.___webpackCompilationHash="71627edf4488a2f0f709";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-c8708dfa47b60eb3e462.js"],"app":["/app-c0d591f35b1cc4cc245a.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-e1ccf424990858934a81.js"],"component---src-pages-about-tsx":["/component---src-pages-about-tsx-45e816bb4133cf954caf.js"],"component---src-pages-blog-index-tsx":["/component---src-pages-blog-index-tsx-2835f651b5f8539b394d.js"],"component---src-pages-blog-mdx-slug-tsx":["/component---src-pages-blog-mdx-slug-tsx-d2a76146f2b99d8c05b4.js"],"component---src-pages-future-projects-tsx":["/component---src-pages-future-projects-tsx-fc7d4ea222c75bd1aae5.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-356de904b1746dfbd32d.js"],"component---src-pages-music-tsx":["/component---src-pages-music-tsx-848f03b26fb66765434e.js"]};/*]]>*/</script><script src="/polyfill-c8708dfa47b60eb3e462.js" nomodule=""></script><script src="/component---src-pages-blog-mdx-slug-tsx-d2a76146f2b99d8c05b4.js" async=""></script><script src="/app-c0d591f35b1cc4cc245a.js" async=""></script><script src="/framework-6710801b7d89d7dbe869.js" async=""></script><script src="/webpack-runtime-5db18a052876bdf03bb0.js" async=""></script></body></html>