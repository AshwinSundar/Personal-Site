<!DOCTYPE html>
<html lang="en-us">
  <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Ashwin Sundar</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="description" content="&lt;!DOCTYPE html&gt; Ashwin&#39;s Blog &lt;!DOCTYPE html&gt; film-strips The Color of Film Date: April 11th, 2017
They say a picture is worth a thousand words, so I took that literally and built average color pictures for each episode in the first season of Game of Thrones. Each vertical line represents one second of the show. Here’s what I got : https://imgur.com/a/naPeJ.
Here’s some examples using a couple of popular movies: https://imgur.">
    <meta name="generator" content="Hugo 0.123.0">
    
    
    
    
      <meta name="robots" content="noindex, nofollow">
    

    
<link rel="stylesheet" href="/ananke/css/main.min.css" >



    

    
      

    

    

    
      <link rel="canonical" href="http://localhost:1313/blog/compiled/film-strips/">
    

    <meta property="og:title" content="" />
<meta property="og:description" content="&lt;!DOCTYPE html&gt; Ashwin&#39;s Blog &lt;!DOCTYPE html&gt; film-strips The Color of Film Date: April 11th, 2017
They say a picture is worth a thousand words, so I took that literally and built average color pictures for each episode in the first season of Game of Thrones. Each vertical line represents one second of the show. Here’s what I got : https://imgur.com/a/naPeJ.
Here’s some examples using a couple of popular movies: https://imgur." />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/blog/compiled/film-strips/" /><meta property="article:section" content="blog" />



<meta itemprop="name" content="">
<meta itemprop="description" content="&lt;!DOCTYPE html&gt; Ashwin&#39;s Blog &lt;!DOCTYPE html&gt; film-strips The Color of Film Date: April 11th, 2017
They say a picture is worth a thousand words, so I took that literally and built average color pictures for each episode in the first season of Game of Thrones. Each vertical line represents one second of the show. Here’s what I got : https://imgur.com/a/naPeJ.
Here’s some examples using a couple of popular movies: https://imgur.">

<meta itemprop="wordCount" content="551">
<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/><meta name="twitter:title" content=""/>
<meta name="twitter:description" content="&lt;!DOCTYPE html&gt; Ashwin&#39;s Blog &lt;!DOCTYPE html&gt; film-strips The Color of Film Date: April 11th, 2017
They say a picture is worth a thousand words, so I took that literally and built average color pictures for each episode in the first season of Game of Thrones. Each vertical line represents one second of the show. Here’s what I got : https://imgur.com/a/naPeJ.
Here’s some examples using a couple of popular movies: https://imgur."/>

	
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="/" class="f3 fw2 hover-white no-underline white-90 dib">
      
        Ashwin Sundar
      
    </a>
    <div class="flex-l items-center">
      

      
      
<div class="ananke-socials">
  
</div>

    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">
    <header class="mt4 w-100">
      <aside class="instapaper_ignoref b helvetica tracked ttu">
          
        Blogs
      </aside>
      










  <div id="sharing" class="mt3 ananke-socials">
    
  </div>


      <h1 class="f1 athelas mt3 mb1"></h1>
      
      
      

      
      
    </header>
    <div class="nested-copy-line-height lh-copy serif f4 nested-links mid-gray pr4-l w-two-thirds-l"><!-- Generated by scripts.sh/compileMarkdown --> <!DOCTYPE html> <html> <head> <title>Ashwin's Blog</title> <meta name='author' content='Ashwin Sundar'> <meta name="viewport" content="width=device-width, initial-scale=1.0" /> <link rel="stylesheet" href="../../styles/o.tailwind.css" type="text/css"> </head> <body class="notecard">
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>film-strips</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="" />
</head>
<body>
<h1 id="the-color-of-film">The Color of Film</h1>
<p>Date: April 11th, 2017</p>
<p>They say a picture is worth a thousand words, so I took that
literally and built average color pictures for each episode in the first
season of Game of Thrones. Each vertical line represents one second of
the show. Here’s what I got : <a href="https://imgur.com/a/naPeJ"
class="uri">https://imgur.com/a/naPeJ</a>.</p>
<p>Here’s some examples using a couple of popular movies: <a
href="https://imgur.com/a/4g2lJ"
class="uri">https://imgur.com/a/4g2lJ</a>. Which movies do you think
they are?</p>
<h2 id="source-code-for-converting-videos-to-film-strips">Source code
for converting videos to film strips</h2>
<p>FFMPEG is a convenient command line tool that can be used to extract
frames from a video file.</p>
<p>This command
<code>ffmpeg -i foo.avi -r 1 -s WxH -f image2 foo-%03d.jpeg</code> will
extract one video frame per second from the video and will output them
in files named <code>foo-001.jpeg</code>, <code>foo-002.jpeg</code>,
etc. Images will be rescaled to fit the new WxH (width by height)
values. You can safely keep these values pretty small e.g. 320x240
without losing much resolution in the final image. By keeping the
pictures small, you vastly improve the performance of the program.</p>
<p>If you want to extract just a limited number of frames, you can use
the above command in combination with the -vframes or -t option, or in
combination with -ss to start extracting from a certain point in
time.</p>
<h2 id="steps">Steps</h2>
<ol type="1">
<li><p>Download and install ffmpeg, a command line tool - <a
href="http://ffmpeg.org/download.html"
class="uri">http://ffmpeg.org/download.html</a></p></li>
<li><p>Extract images from the video</p>
<ol type="a">
<li>Navigate to C:-git-0a9e781-win64-static (or wherever you unzipped
ffmpeg to)</li>
<li>Open <code>ff-prompt</code></li>
<li>Within FF Prompt, navigate to the video directory using
<code>cd {directory name}</code></li>
<li>In FF Prompt, type the following
<code>ffmpeg -i foo.avi -r 1 -s WxH -f image2 s{season number e.g. 01}e{episode number e.g. 01}-%03d.jpeg</code></li>
<li>Replace <code>foo.avi</code> with whatever video file you want to
process. Doesn’t have to be <code>.avi</code>. Might want to rename
video file so you can more easily type the file name in command prompt.
Also replace WxH with the desired image resolution. Smaller images
vastly improve performance. This will extract one video frame per second
from the video and will output them in files named
<code>{desired image title}-001.jpeg</code>,
<code>{desired image title}-002.jpeg</code>, etc. Images will be
rescaled to fit the new WxH values. This command could take 5+ minutes
to run per hour of video, but once again keeping images small will allow
the program to run much faster.</li>
</ol></li>
<li><p>Move all the generated images into their own folder. Copy
averageColorGrab.m into the same folder as the images.</p></li>
<li><p>open the MATLAB script <code>averageColorGrab.m</code> that you
just copied over.</p>
<ol type="a">
<li>Modify the season and episode number - you may need to modify the
image title to match the format you described above in
<code>{desired image title}-xxx.jpg</code>. Change the videoLength to
the duration of the video in seconds. Easiest way to do this is to see
how many jpegs you generated in step 1c. Save the file with ctrl+S</li>
<li>Run the script by typing in the console
<code>averageColorGrab</code>. Script takes about 60 seconds to analyze
1 hour worth of 1080p video.</li>
<li>Next, we’ll print and save the film strips. In the console, type the
following (replace videoLength with the actual video length in
seconds):</li>
</ol>
<div style="display: flex; justify-content:center">
<pre><code>imshow(mat2gray(averageEpisodeColor));
set(gcf,&#39;PaperUnits&#39;,&#39;inches&#39;,&#39;PaperPosition&#39;,[0,0,videoLength,715])
set(gca,&#39;position&#39;,[0 0 1 1],&#39;units&#39;,&#39;normalized&#39;)
print -djpeg averagesXXeXXRGB -r1</code></pre>
</div>
<ol start="4" type="a">
<li>Enter <code>csvwrite('averagesXXeYYRGB', averageEpisodeColor)</code>
to save the final RGB matrix, in case you’d like to do a reprint of the
RAW data at another time.</li>
</ol></li>
</ol>
</body>
</html>
</body> </html>
<ul class="pa0">
  
</ul>
<div class="mt6 instapaper_ignoref">
      
      
      </div>
    </div>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="http://localhost:1313/" >
    &copy;  Ashwin Sundar 2024 
  </a>
    <div>
<div class="ananke-socials">
  
</div>
</div>
  </div>
</footer>

  </body>
</html>
